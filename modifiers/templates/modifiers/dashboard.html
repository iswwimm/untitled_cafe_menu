{% extends 'menu/base.html' %}
{% load static %}

{% block extra_head %}
<link rel="stylesheet" href="{% static 'modifiers/css/dashboard.css' %}">
{% endblock %}

{% block content %}
<div class="dashboard-container">
    <h2>Staff Dashboard</h2>

    {% for section in sections %}
    <div class="dashboard-section">
        <h3>{{ section.category|capfirst }}</h3>
        <a href="{% url 'modifiers:add_'|add:section.category %}" class="btn add-btn">
            Add {{ section.category|capfirst }}
        </a>

        <ul class="item-list">
            {% for item in section.items %}
            <li class="item">
                {% if item.image %}
                <img src="{{ item.image.url }}" class="thumbnail" alt="{{ item.name }}">
                {% endif %}

                {% if section.category == 'coffee' %}
                <span>{{ item.name }} — {{ item.price }}₴ — {{ item.display_volumes }} — {{ item.get_temperature_display }}</span>
                {% else %}
                <span>{{ item.name }}</span>
                {% endif %}

                <div class="actions">
                    <a href="{% url 'modifiers:edit_'|add:section.category item.pk %}" class="btn">Edit</a>
                    <a href="{% url 'modifiers:delete_'|add:section.category item.pk %}" class="btn">Delete</a>
                </div>
            </li>
            {% empty %}
            <li class="item">No {{ section.category }} items.</li>
            {% endfor %}
        </ul>
    </div>
    {% endfor %}

</div>
{% endblock %}
