{% extends 'menu/base.html' %}
{% block content %}

<h1>Archive</h1>

{% for section in sections %}
    <h2>{{ section.name|capfirst }}</h2>

    {% if section.name == 'coffee' %}
        {% for group, items in section.grouped_items.items %}
            <h3>{{ group|capfirst }}</h3>
            <ul class="item-list">
                {% for item in items %}
                    <li class="item">
                        {% if item.image %}
                            <img src="{{ item.image.url }}" class="thumbnail" alt="{{ item.name }}">
                        {% endif %}
                        <span>{{ item.name }} — {{ item.price_display }} {{ currency|default:"₴" }}</span>
                        <div class="actions">
                            <a href="{% url 'modifiers:restore_item' section.name item.pk %}" class="btn">Restore</a>
                            <a href="{% url 'modifiers:delete_item' section.name item.pk %}" class="btn delete-btn">Delete</a>
                        </div>
                    </li>
                {% empty %}
                    <li class="item">No archived items in this group.</li>
                {% endfor %}
            </ul>
        {% endfor %}
    {% else %}
        <ul class="item-list">
            {% for item in section.items %}
                <li class="item">
                    {% if item.image %}
                        <img src="{{ item.image.url }}" class="thumbnail" alt="{{ item.name }}">
                    {% endif %}
                    <span>{{ item.name }} — {{ item.price_display }} {{ currency|default:"₴" }}</span>
                    <div class="actions">
                        <a href="{% url 'modifiers:restore_item' section.name item.pk %}" class="btn">Restore</a>
                        <a href="{% url 'modifiers:delete_item' section.name item.pk %}" class="btn delete-btn">Delete</a>
                    </div>
                </li>
            {% empty %}
                <li class="item">No archived items.</li>
            {% endfor %}
        </ul>
    {% endif %}
{% endfor %}

{% endblock %}
