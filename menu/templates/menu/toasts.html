{% extends 'menu/base.html' %}
{% load static %}

{% block title %}untitled toasts{% endblock %}
{% block body_class %}toasts-page{% endblock %}

{% block content %}
<div class="menu-page">
    <div class="logo">
        <img src="{% static 'menu/images/logo_lunch_1.png' %}" alt="Untitled Toasts" class="logo-img">
    </div>

    {% for toast in toasts %}
        <div class="menu-item" data-id="{{ toast.id }}" {% if toast.description %}data-description="{{ toast.description }}"{% endif %} {% if toast.image %}data-image="{{ toast.image.url }}"{% endif %}>
            <div class="menu-center">
                <h3>{{ toast.name }}</h3>
                {% if toast.description %}
                    <p class="description">
                        {{ toast.description }}
                        {% if toast.allergens %}
                            <sup class="allergens-sup">{{ toast.allergens }}</sup>
                        {% endif %}
                    </p>
                {% elif toast.allergens %}
                    <p class="description">
                        <sup class="allergens-sup">{{ toast.allergens }}</sup>
                    </p>
                {% endif %}
            </div>
            <div class="menu-right">
                <p>{{ toast.price_display }}</p>
            </div>
        </div>
    {% empty %}
        <p class="empty">No toasts available üçû</p>
    {% endfor %}

    <!-- Allergens section -->
    <div class="allergens-section">
        <div class="menu-item allergens-item" data-allergens-info="true">
            <div class="menu-center">
                <h3>Allergens</h3>
                <p class="description">Click to view allergen information</p>
            </div>
            <div class="menu-right">
                <!-- Empty -->
            </div>
        </div>
    </div>
</div>

<!-- Toast Information Modal -->
<div id="toastModal" class="modal" aria-hidden="true">
    <div class="modal-content">
        <span class="close">&times;</span>
        <h3 id="modalTitle"></h3>
        <p id="modalBody"></p>
    </div>
</div>

<!-- Image Modal -->
<div id="imageModal" class="modal" aria-hidden="true">
    <div class="modal-overlay"></div>
    <div class="modal-inner">
        <img id="modalImage" src="" alt="" />
    </div>
</div>

<!-- Allergens Modal -->
<div id="allergensModal" class="modal" aria-hidden="true">
    <div class="modal-content">
        <h3>Allergen Information</h3>
        <div id="allergensList"></div>
    </div>
</div>

{% endblock %}